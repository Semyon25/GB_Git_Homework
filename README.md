# GB_Git_Homework

# Что такое Git 
Git —  абсолютный ййлидер по популярности среди современных систем управления версиями. Это развитый проект с активной поддержкой и открытым исходным кодом. Система Git была изначально разработана в 2005 году Линусом Торвальдсом — создателем ядра операционной системы Linux. Git применяется для управления версиями в рамках колоссального количества проектов по разработке ПО, как коммерческих, так и с открытым исходным кодом. Система используется множеством профессиональных разработчиков программного обеспечения. Она превосходно работает под управлением различных операционных систем и может применяться со множеством интегрированных сред разработки (IDE).

# Подготовка репозитория
Для создания нового репозитория используется команда git init. Команду git init выполняют только один раз для первоначальной настройки нового репозитория. Выполнение команды приведет к созданию нового подкаталога .git в вашем рабочем каталоге. Кроме того, будет создана новая главная ветка.

# Создание "сохранений"
Для этого необходимо выполнить 2 команды. Первая команда git add -A добавляет все измененные файлы в индекс. А вторая команда создает коммит. git add -A git commit -m "Commit message."

# Переключение между сохранениями
Команда git checkout позволяет перемещаться между ветками, созданными командой git branch . При переключении ветки происходит обновление файлов в рабочем каталоге в соответствии с версией, хранящейся в этой ветке, а Git начинает записывать все новые коммиты в этой ветке.

# Журннал изменений
При помощи команды git log в консоли мы можем отслеживать историю коммитов в ветке. На самом GitHub мы можем увидеть последний коммит в файле и последний коммит в ветке. Всю историю мы можем просмотреть, кликнув по кнопке n commits, где n — количество запущенных на сервер коммитов

# Ветки Git
Для точного понимания механизма ветвлений, необходимо вернуться назад и изучить то, как Git хранит данные.

Как вы можете помнить из Что такое Git?, Git не хранит данные в виде последовательности изменений, он использует набор снимков (snapshot).

Когда вы делаете коммит, Git сохраняет его в виде объекта, который содержит указатель на снимок (snapshot) подготовленных данных. Этот объект так же содержит имя автора и email, сообщение и указатель на коммит или коммиты непосредственно предшествующие данному (его родителей): отсутствие родителя для первоначального коммита, один родитель для обычного коммита, и несколько родителей для результатов слияния двух и более веток.

Предположим, у вас есть каталог с тремя файлами и вы добавляете их все в индекс и создаёте коммит. Во время индексации вычисляется контрольная сумма каждого файла (SHA-1 как мы узнали из Что такое Git?), затем каждый файл сохраняется в репозиторий (Git называет такой файл блоб — большой бинарный объект), а контрольная сумма попадёт в индекс:

$ git add README test.rb LICENSE
$ git commit -m 'Initial commit'
Когда вы создаёте коммит командой git commit, Git вычисляет контрольные суммы каждого подкаталога (в нашем случае, только основной каталог проекта) и сохраняет его в репозитории как объект дерева каталогов. Затем Git создаёт объект коммита с метаданными и указателем на основное дерево проекта для возможности воссоздать этот снимок в случае необходимости.

Ваш репозиторий Git теперь хранит пять объектов: три блоб объекта (по одному на каждый файл), объект дерева каталогов, содержащий список файлов и соответствующих им блобов, а так же объект коммита, содержащий метаданные и указатель на объект дерева каталогов.

#Слияние веток и разрешение конфликтов
Как объединить две ветки в git?
Для этого выберем ветку где мы хотим чтобы у нас происходило сведение изменений. С помощью данной команды мы проверяем в какой ветке мы находимся. В моем случае это master(HEAD->master). где git merge - команда для объединения веток, а new_branch -название ветки изменения которой мы хотим объединить с текущей веткой.

Как отменить слияние веток Если произошел конфликт?
Если вы, возможно, не были готовы к конфликтам и на самом деле не хотите связываться с ними, вы можете просто отменить попытку слияния, используя команду git merge --abort . Эта команда пытается откатить ваше состояние до того, что было до запуска слияния.

Git хорошо подходит для автоматического объединения изменений файлов в большинстве случаев, если содержимое файла не изменяется резко между фиксациями. Если ваша ветвь находится далеко за главной ветвью, рассмотрите возможность повторной балансировки ветвей перед открытием запроса на вытягивание. Перебазированные ветви будут объединяться в главную ветвь без конфликтов.

Сначала отредактируйте конфликт, а затем выполните git commit.
Примечание: для git конфликт редактирования не отличается от обычного кода модификации. После того, как модификация завершена, вы должны добавить модификацию в кеш, а затем зафиксировать.


# Удаление веток
Локальные ветки – это ветки на вашем компьютере, которые не влияют на ветки удаленного репозитория.

Команда для удаления локальной ветки в Git:

git branch -d  local_branch_name
git branch – команда для удаления локальной ветки.
-d – флаг, опция команды git branch, сокращенный вариант записи --delete. Как и следует из названия, предназначен для удаления ветки.
local_branch_name – имя удаляемой ветки.
Давайте рассмотрим это подробнее на примере.

Следующая команда позволяет вывести список всех локальных веток:

git branch
У меня две ветки: master и test2. Сейчас я нахожусь на test2, на что указывает значок (*):


Я хочу удалить ветку test2. Но удалить ветку, в которой вы находитесь и которую просматриваете в данный момент, нельзя.

Если мы попытаемся это сделать, то получим примерно такую ошибку:


Так что перед удалением локальной ветки обязательно переключитесь на другую, которую не собираетесь удалять.

Переход делается при помощи команды git checkout:

git checkout branch_name
qbranch_name – имя ветки, на которую нужно перейти
в моём случае альтернативная ветка – master, поэтому я сделаю так:
git checkout master
Результат:


Теперь можно удалять ветку:


Для удаления ветки мы использовали команду git branch -d. Но она работает не во всех случаях.

Если в ветке присутствуют несмерженные изменения или незапушенные коммиты, флаг -d не позволит удалить такую локальную ветку.

Это связано с тем, что эти коммиты нигде более не отслеживаются, и Git защищает вас от случайной потери этих данных.

Если все же попытаться удалить такую ветку, Git выдаст ошибку:


Как предложено в тексте ошибки, вы должны воспользоваться флагом -D:

git branch -D local_branch_name
Флаг -D с большой D (сокращенная запись опции --delete --force), принудительно удаляет локальную ветку, вне зависимости от ее статуса мержа.

Используйте данную команду с осторожностью: после её ввода у вас не будут просить подтверждение удаления. Прибегайте к ней только когда абсолютно уверены, что хотите удалить локальную ветку.

Если вы не объединили её с другой локальной веткой или не запушили изменения в удаленный репозиторий, вы рискуете потерять все произведённые изменения.


Как удалить ветку в удалённом репозитории Git
Удалённые ветки существуют отдельно от локальных.

Это ветки в репозиториях на удалённых серверах, к которым мы имеем доступ. В этом заключается их отличие от локальных: последние находятся лишь у нас системе.

Команда удаления (прости Господи) удалённой ветки:

git push remote_name -d remote_branch_name
Вместо команды git branch, которая используется  для локальных веток, удалить ветку в удалённом репозитории можно командой git push.
Затем указывается имя удалённого репозитория, в большинстве случаев это origin.
-d – флаг для удаления, сокращённый вариант опции --delete.
remote_branch_name – имя удаляемой ветки.
Рассмотрим пример того, как можно удалить ветку в origin.

Чтобы увидеть все удалённые ветки, используйте эту команду:

git branch -a
Благодаря флагу -a (сокращенная запись опции --all) показываются все ветки: и удалённые, и локальные.


У меня созданы две локальные ветки (master и test) и две удалённые (origin/master и origin/test).

Флаг -r (сокращенная запись опции --remotes) позволяет вывести только удалённые репозитории.


Я хочу удалить ветку origin/test, поэтому я воспользуюсь следующей командой:

git push origin -d test
Результат:


Мы стёрли ветку test в удалённом репозитории origin. Поэтому origin/test больше нет:


Заключение
Теперь вы знаете, как избавляться от локальных и удалённых веток в Git. Спасибо за внимание и удачи!

